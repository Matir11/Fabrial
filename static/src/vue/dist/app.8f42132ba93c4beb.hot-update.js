"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(typeof self !== 'undefined' ? self : this)["webpackHotUpdatevueapp"]("app",{

/***/ "./src/auth/AuthService.js":
/*!*********************************!*\
  !*** ./src/auth/AuthService.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AuthService; }\n/* harmony export */ });\n/* harmony import */ var _Users_architect_Documents_Capstone_Fabrial_vueapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty.js */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var auth0_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! auth0-js */ \"./node_modules/auth0-js/dist/auth0.min.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../router */ \"./src/router/index.js\");\n\n\n\n\nclass AuthService {\n  constructor() {\n    (0,_Users_architect_Documents_Capstone_Fabrial_vueapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"authenticated\", this.isAuthenticated());\n\n    (0,_Users_architect_Documents_Capstone_Fabrial_vueapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"authNotifier\", new (eventemitter3__WEBPACK_IMPORTED_MODULE_2___default())());\n\n    (0,_Users_architect_Documents_Capstone_Fabrial_vueapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"auth0\", new auth0_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].WebAuth({\n      domain: 'dev-l54azry8.us.auth0.com',\n      clientID: '8w0tZioMNNrgtSidq2KlkTbs5dEAxFzM',\n      redirectUri: 'http://localhost:8080',\n      audience: 'https://django-vuejs-api',\n      responseType: 'token id_token',\n      scope: 'openid profile'\n    }));\n\n    this.login = this.login.bind(this);\n    this.setSession = this.setSession.bind(this);\n    this.logout = this.logout.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n  } // create an instance of auth0.WebAuth with your\n  // API and Client credentials\n\n\n  // this method calls the authorize() method\n  // which triggers the Auth0 login page\n  login() {\n    this.auth0.authorize();\n  } // this method calls the parseHash() method of Auth0\n  // to get authentication information from the callback URL\n\n\n  handleAuthentication() {\n    this.auth0.parseHash((err, authResult) => {\n      if (authResult && authResult.accessToken && authResult.idToken) {\n        this.setSession(authResult);\n      } else if (err) {\n        console.log(err);\n        alert(`Error: ${err.error}. Check the console for further details.`);\n      } else {\n        // no authResult and no error? lets try silent auth\n        this.silentAuth().then(() => {\n          console.log('user logged in through silent auth');\n        }).catch(err => {\n          console.log(err);\n          alert(`Error: ${err.error}. Check the console for further details.`);\n        });\n      }\n\n      _router__WEBPACK_IMPORTED_MODULE_3__[\"default\"].replace('/');\n    });\n  } // stores the user's access_token, id_token, and a time at\n  // which the access_token will expire in the local storage\n\n\n  setSession(authResult) {\n    this.accessToken = authResult.accessToken;\n    this.idToken = authResult.idToken;\n    this.profile = authResult.idTokenPayload;\n    this.expiresAt = authResult.expiresIn * 1000 + new Date().getTime();\n    this.authNotifier.emit('authChange', {\n      authenticated: true\n    });\n  } // remove the access and ID tokens from the\n  // local storage and emits the authChange event\n\n\n  logout() {\n    delete this.accessToken;\n    delete this.idToken;\n    delete this.expiresAt;\n    this.authNotifier.emit('authChange', false); // navigate to the home route\n\n    _router__WEBPACK_IMPORTED_MODULE_3__[\"default\"].replace('/');\n  } // checks if the user is authenticated\n\n\n  isAuthenticated() {\n    // Check whether the current time is past the\n    // access token's expiry time\n    return new Date().getTime() < this.expiresAt;\n  } // a static method to get the access token\n\n\n  getAuthToken() {\n    return this.accessToken;\n  } // a method to get the User profile\n\n\n  getUserProfile() {\n    return this.profile;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXV0aC9BdXRoU2VydmljZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUFBOztBQUFBOztBQUFBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7O0FBVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBR0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQXpGQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZWFwcC8uL3NyYy9hdXRoL0F1dGhTZXJ2aWNlLmpzPzZlOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF1dGgwIGZyb20gJ2F1dGgwLWpzJ1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudGVtaXR0ZXIzJ1xuaW1wb3J0IHJvdXRlciBmcm9tICcuLy4uL3JvdXRlcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0aFNlcnZpY2Uge1xuICBhdXRoZW50aWNhdGVkID0gdGhpcy5pc0F1dGhlbnRpY2F0ZWQoKVxuICBhdXRoTm90aWZpZXIgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5sb2dpbiA9IHRoaXMubG9naW4uYmluZCh0aGlzKVxuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IHRoaXMuc2V0U2Vzc2lvbi5iaW5kKHRoaXMpXG4gICAgdGhpcy5sb2dvdXQgPSB0aGlzLmxvZ291dC5iaW5kKHRoaXMpXG4gICAgdGhpcy5pc0F1dGhlbnRpY2F0ZWQgPSB0aGlzLmlzQXV0aGVudGljYXRlZC5iaW5kKHRoaXMpXG4gICAgdGhpcy5oYW5kbGVBdXRoZW50aWNhdGlvbiA9IHRoaXMuaGFuZGxlQXV0aGVudGljYXRpb24uYmluZCh0aGlzKVxuICB9XG5cbiAgLy8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGF1dGgwLldlYkF1dGggd2l0aCB5b3VyXG4gIC8vIEFQSSBhbmQgQ2xpZW50IGNyZWRlbnRpYWxzXG4gIGF1dGgwID0gbmV3IGF1dGgwLldlYkF1dGgoe1xuICAgIGRvbWFpbjogJ2Rldi1sNTRhenJ5OC51cy5hdXRoMC5jb20nLFxuICAgIGNsaWVudElEOiAnOHcwdFppb01OTnJndFNpZHEyS2xrVGJzNWRFQXhGek0nLFxuICAgIHJlZGlyZWN0VXJpOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyxcbiAgICBhdWRpZW5jZTogJ2h0dHBzOi8vZGphbmdvLXZ1ZWpzLWFwaScsXG4gICAgcmVzcG9uc2VUeXBlOiAndG9rZW4gaWRfdG9rZW4nLFxuICAgIHNjb3BlOiAnb3BlbmlkIHByb2ZpbGUnXG4gIH0pXG5cbiAgLy8gdGhpcyBtZXRob2QgY2FsbHMgdGhlIGF1dGhvcml6ZSgpIG1ldGhvZFxuICAvLyB3aGljaCB0cmlnZ2VycyB0aGUgQXV0aDAgbG9naW4gcGFnZVxuICBsb2dpbiAoKSB7XG4gICAgdGhpcy5hdXRoMC5hdXRob3JpemUoKVxuICB9XG5cbiAgLy8gdGhpcyBtZXRob2QgY2FsbHMgdGhlIHBhcnNlSGFzaCgpIG1ldGhvZCBvZiBBdXRoMFxuICAvLyB0byBnZXQgYXV0aGVudGljYXRpb24gaW5mb3JtYXRpb24gZnJvbSB0aGUgY2FsbGJhY2sgVVJMXG4gIGhhbmRsZUF1dGhlbnRpY2F0aW9uICgpIHtcbiAgICB0aGlzLmF1dGgwLnBhcnNlSGFzaCgoZXJyLCBhdXRoUmVzdWx0KSA9PiB7XG4gICAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc1Rva2VuICYmIGF1dGhSZXN1bHQuaWRUb2tlbikge1xuICAgICAgICB0aGlzLnNldFNlc3Npb24oYXV0aFJlc3VsdClcbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgYWxlcnQoYEVycm9yOiAke2Vyci5lcnJvcn0uIENoZWNrIHRoZSBjb25zb2xlIGZvciBmdXJ0aGVyIGRldGFpbHMuYClcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgLy8gbm8gYXV0aFJlc3VsdCBhbmQgbm8gZXJyb3I/IGxldHMgdHJ5IHNpbGVudCBhdXRoXG4gICAgICAgIHRoaXMuc2lsZW50QXV0aCgpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXIgbG9nZ2VkIGluIHRocm91Z2ggc2lsZW50IGF1dGgnKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgIGFsZXJ0KGBFcnJvcjogJHtlcnIuZXJyb3J9LiBDaGVjayB0aGUgY29uc29sZSBmb3IgZnVydGhlciBkZXRhaWxzLmApXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJvdXRlci5yZXBsYWNlKCcvJylcbiAgICB9KVxuICB9XG5cbiAgLy8gc3RvcmVzIHRoZSB1c2VyJ3MgYWNjZXNzX3Rva2VuLCBpZF90b2tlbiwgYW5kIGEgdGltZSBhdFxuICAvLyB3aGljaCB0aGUgYWNjZXNzX3Rva2VuIHdpbGwgZXhwaXJlIGluIHRoZSBsb2NhbCBzdG9yYWdlXG4gIHNldFNlc3Npb24gKGF1dGhSZXN1bHQpIHtcbiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gYXV0aFJlc3VsdC5hY2Nlc3NUb2tlblxuICAgIHRoaXMuaWRUb2tlbiA9IGF1dGhSZXN1bHQuaWRUb2tlblxuICAgIHRoaXMucHJvZmlsZSA9IGF1dGhSZXN1bHQuaWRUb2tlblBheWxvYWRcbiAgICB0aGlzLmV4cGlyZXNBdCA9IGF1dGhSZXN1bHQuZXhwaXJlc0luICogMTAwMCArIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgdGhpcy5hdXRoTm90aWZpZXIuZW1pdCgnYXV0aENoYW5nZScsIHthdXRoZW50aWNhdGVkOiB0cnVlfSlcbiAgfVxuXG4gIC8vIHJlbW92ZSB0aGUgYWNjZXNzIGFuZCBJRCB0b2tlbnMgZnJvbSB0aGVcbiAgLy8gbG9jYWwgc3RvcmFnZSBhbmQgZW1pdHMgdGhlIGF1dGhDaGFuZ2UgZXZlbnRcbiAgbG9nb3V0ICgpIHtcbiAgICBkZWxldGUgdGhpcy5hY2Nlc3NUb2tlblxuICAgIGRlbGV0ZSB0aGlzLmlkVG9rZW5cbiAgICBkZWxldGUgdGhpcy5leHBpcmVzQXRcbiAgICB0aGlzLmF1dGhOb3RpZmllci5lbWl0KCdhdXRoQ2hhbmdlJywgZmFsc2UpXG4gICAgLy8gbmF2aWdhdGUgdG8gdGhlIGhvbWUgcm91dGVcbiAgICByb3V0ZXIucmVwbGFjZSgnLycpXG4gIH1cblxuICAvLyBjaGVja3MgaWYgdGhlIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICBpc0F1dGhlbnRpY2F0ZWQgKCkge1xuICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGN1cnJlbnQgdGltZSBpcyBwYXN0IHRoZVxuICAgIC8vIGFjY2VzcyB0b2tlbidzIGV4cGlyeSB0aW1lXG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIDwgdGhpcy5leHBpcmVzQXRcbiAgfVxuXG4gIC8vIGEgc3RhdGljIG1ldGhvZCB0byBnZXQgdGhlIGFjY2VzcyB0b2tlblxuICBnZXRBdXRoVG9rZW4gKCkge1xuICAgIHJldHVybiB0aGlzLmFjY2Vzc1Rva2VuXG4gIH1cblxuICAvLyBhIG1ldGhvZCB0byBnZXQgdGhlIFVzZXIgcHJvZmlsZVxuICBnZXRVc2VyUHJvZmlsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvZmlsZVxuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/auth/AuthService.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ !function() {
/******/ 	__webpack_require__.h = function() { return "2dd86cccc86ab52b"; }
/******/ }();
/******/ 
/******/ }
);