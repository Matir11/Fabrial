"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(typeof self !== 'undefined' ? self : this)["webpackHotUpdatevueapp"]("app",{

/***/ "./src/auth/AuthService.js":
/*!*********************************!*\
  !*** ./src/auth/AuthService.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AuthService; }\n/* harmony export */ });\n/* harmony import */ var _Users_architect_Documents_Capstone_Fabrial_vueapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty.js */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var auth0_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! auth0-js */ \"./node_modules/auth0-js/dist/auth0.min.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../router */ \"./src/router/index.js\");\n\n\n\n\nclass AuthService {\n  constructor() {\n    (0,_Users_architect_Documents_Capstone_Fabrial_vueapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"authenticated\", this.isAuthenticated());\n\n    (0,_Users_architect_Documents_Capstone_Fabrial_vueapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"authNotifier\", new (eventemitter3__WEBPACK_IMPORTED_MODULE_2___default())());\n\n    (0,_Users_architect_Documents_Capstone_Fabrial_vueapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"auth0\", new auth0_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].WebAuth({\n      domain: 'dev-l54azry8.us.auth0.com',\n      clientID: '8w0tZioMNNrgtSidq2KlkTbs5dEAxFzM',\n      redirectUri: 'http://localhost:8080',\n      audience: 'https://django-vuejs-api',\n      responseType: 'token id_token',\n      scope: 'openid profile'\n    }));\n\n    this.login = this.login.bind(this);\n    this.setSession = this.setSession.bind(this);\n    this.logout = this.logout.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n  } // create an instance of auth0.WebAuth with your\n  // API and Client credentials\n\n\n  // this method calls the authorize() method\n  // which triggers the Auth0 login page\n  login() {\n    this.auth0.authorize();\n  } // this method calls the parseHash() method of Auth0\n  // to get authentication information from the callback URL\n\n\n  handleAuthentication() {\n    this.auth0.parseHash((err, authResult) => {\n      if (authResult && authResult.accessToken && authResult.idToken) {\n        this.setSession(authResult);\n      } else if (err) {\n        console.log(err);\n        alert(`Error: ${err.error}. Check the console for further details.`);\n      } else {\n        // no authResult and no error? lets try silent auth\n        this.silentAuth().then(() => {\n          console.log('user logged in through silent auth');\n        }).catch(err => {\n          console.log(err);\n          alert(`Error: ${err.error}. Check the console for further details.`);\n        });\n      }\n\n      _router__WEBPACK_IMPORTED_MODULE_3__[\"default\"].replace('/');\n    });\n  } // stores the user's access_token, id_token, and a time at\n  // which the access_token will expire in the local storage\n\n\n  setSession(authResult) {\n    this.accessToken = authResult.accessToken;\n    this.idToken = authResult.idToken;\n    this.profile = authResult.idTokenPayload;\n    this.expiresAt = authResult.expiresIn * 1000 + new Date().getTime();\n    this.authNotifier.emit('authChange', {\n      authenticated: true\n    });\n  } // remove the access and ID tokens from the\n  // local storage and emits the authChange event\n\n\n  logout() {\n    delete this.accessToken;\n    delete this.idToken;\n    delete this.expiresAt;\n    this.authNotifier.emit('authChange', false); // navigate to the home route\n\n    _router__WEBPACK_IMPORTED_MODULE_3__[\"default\"].replace('/');\n  } // checks if the user is authenticated\n\n\n  isAuthenticated() {\n    // Check whether the current time is past the\n    // access token's expiry time\n    return new Date().getTime() < this.expiresAt;\n  } // a static method to get the access token\n\n\n  getAuthToken() {\n    return this.accessToken;\n  } // a method to get the User profile\n\n\n  getUserProfile() {\n    return this.profile;\n  }\n\n  silentAuth() {\n    return new Promise((resolve, reject) => {\n      this.auth0.checkSession({}, (err, authResult) => {\n        if (err) return reject(err);\n        this.setSession(authResult);\n        resolve();\n      });\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXV0aC9BdXRoU2VydmljZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUFBOztBQUFBOztBQUFBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7O0FBVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBR0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFuR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWVhcHAvLi9zcmMvYXV0aC9BdXRoU2VydmljZS5qcz82ZThmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhdXRoMCBmcm9tICdhdXRoMC1qcydcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMydcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi8uLi9yb3V0ZXInXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhTZXJ2aWNlIHtcbiAgYXV0aGVudGljYXRlZCA9IHRoaXMuaXNBdXRoZW50aWNhdGVkKClcbiAgYXV0aE5vdGlmaWVyID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMubG9naW4gPSB0aGlzLmxvZ2luLmJpbmQodGhpcylcbiAgICB0aGlzLnNldFNlc3Npb24gPSB0aGlzLnNldFNlc3Npb24uYmluZCh0aGlzKVxuICAgIHRoaXMubG9nb3V0ID0gdGhpcy5sb2dvdXQuYmluZCh0aGlzKVxuICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gdGhpcy5pc0F1dGhlbnRpY2F0ZWQuYmluZCh0aGlzKVxuICAgIHRoaXMuaGFuZGxlQXV0aGVudGljYXRpb24gPSB0aGlzLmhhbmRsZUF1dGhlbnRpY2F0aW9uLmJpbmQodGhpcylcbiAgfVxuXG4gIC8vIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBhdXRoMC5XZWJBdXRoIHdpdGggeW91clxuICAvLyBBUEkgYW5kIENsaWVudCBjcmVkZW50aWFsc1xuICBhdXRoMCA9IG5ldyBhdXRoMC5XZWJBdXRoKHtcbiAgICBkb21haW46ICdkZXYtbDU0YXpyeTgudXMuYXV0aDAuY29tJyxcbiAgICBjbGllbnRJRDogJzh3MHRaaW9NTk5yZ3RTaWRxMktsa1RiczVkRUF4RnpNJyxcbiAgICByZWRpcmVjdFVyaTogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcsXG4gICAgYXVkaWVuY2U6ICdodHRwczovL2RqYW5nby12dWVqcy1hcGknLFxuICAgIHJlc3BvbnNlVHlwZTogJ3Rva2VuIGlkX3Rva2VuJyxcbiAgICBzY29wZTogJ29wZW5pZCBwcm9maWxlJ1xuICB9KVxuXG4gIC8vIHRoaXMgbWV0aG9kIGNhbGxzIHRoZSBhdXRob3JpemUoKSBtZXRob2RcbiAgLy8gd2hpY2ggdHJpZ2dlcnMgdGhlIEF1dGgwIGxvZ2luIHBhZ2VcbiAgbG9naW4gKCkge1xuICAgIHRoaXMuYXV0aDAuYXV0aG9yaXplKClcbiAgfVxuXG4gIC8vIHRoaXMgbWV0aG9kIGNhbGxzIHRoZSBwYXJzZUhhc2goKSBtZXRob2Qgb2YgQXV0aDBcbiAgLy8gdG8gZ2V0IGF1dGhlbnRpY2F0aW9uIGluZm9ybWF0aW9uIGZyb20gdGhlIGNhbGxiYWNrIFVSTFxuICBoYW5kbGVBdXRoZW50aWNhdGlvbiAoKSB7XG4gICAgdGhpcy5hdXRoMC5wYXJzZUhhc2goKGVyciwgYXV0aFJlc3VsdCkgPT4ge1xuICAgICAgaWYgKGF1dGhSZXN1bHQgJiYgYXV0aFJlc3VsdC5hY2Nlc3NUb2tlbiAmJiBhdXRoUmVzdWx0LmlkVG9rZW4pIHtcbiAgICAgICAgdGhpcy5zZXRTZXNzaW9uKGF1dGhSZXN1bHQpXG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIGFsZXJ0KGBFcnJvcjogJHtlcnIuZXJyb3J9LiBDaGVjayB0aGUgY29uc29sZSBmb3IgZnVydGhlciBkZXRhaWxzLmApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBubyBhdXRoUmVzdWx0IGFuZCBubyBlcnJvcj8gbGV0cyB0cnkgc2lsZW50IGF1dGhcbiAgICAgICAgdGhpcy5zaWxlbnRBdXRoKClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXNlciBsb2dnZWQgaW4gdGhyb3VnaCBzaWxlbnQgYXV0aCcpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgYWxlcnQoYEVycm9yOiAke2Vyci5lcnJvcn0uIENoZWNrIHRoZSBjb25zb2xlIGZvciBmdXJ0aGVyIGRldGFpbHMuYClcbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcm91dGVyLnJlcGxhY2UoJy8nKVxuICAgIH0pXG4gIH1cblxuICAvLyBzdG9yZXMgdGhlIHVzZXIncyBhY2Nlc3NfdG9rZW4sIGlkX3Rva2VuLCBhbmQgYSB0aW1lIGF0XG4gIC8vIHdoaWNoIHRoZSBhY2Nlc3NfdG9rZW4gd2lsbCBleHBpcmUgaW4gdGhlIGxvY2FsIHN0b3JhZ2VcbiAgc2V0U2Vzc2lvbiAoYXV0aFJlc3VsdCkge1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBhdXRoUmVzdWx0LmFjY2Vzc1Rva2VuXG4gICAgdGhpcy5pZFRva2VuID0gYXV0aFJlc3VsdC5pZFRva2VuXG4gICAgdGhpcy5wcm9maWxlID0gYXV0aFJlc3VsdC5pZFRva2VuUGF5bG9hZFxuICAgIHRoaXMuZXhwaXJlc0F0ID0gYXV0aFJlc3VsdC5leHBpcmVzSW4gKiAxMDAwICsgbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICB0aGlzLmF1dGhOb3RpZmllci5lbWl0KCdhdXRoQ2hhbmdlJywge2F1dGhlbnRpY2F0ZWQ6IHRydWV9KVxuICB9XG5cbiAgLy8gcmVtb3ZlIHRoZSBhY2Nlc3MgYW5kIElEIHRva2VucyBmcm9tIHRoZVxuICAvLyBsb2NhbCBzdG9yYWdlIGFuZCBlbWl0cyB0aGUgYXV0aENoYW5nZSBldmVudFxuICBsb2dvdXQgKCkge1xuICAgIGRlbGV0ZSB0aGlzLmFjY2Vzc1Rva2VuXG4gICAgZGVsZXRlIHRoaXMuaWRUb2tlblxuICAgIGRlbGV0ZSB0aGlzLmV4cGlyZXNBdFxuICAgIHRoaXMuYXV0aE5vdGlmaWVyLmVtaXQoJ2F1dGhDaGFuZ2UnLCBmYWxzZSlcbiAgICAvLyBuYXZpZ2F0ZSB0byB0aGUgaG9tZSByb3V0ZVxuICAgIHJvdXRlci5yZXBsYWNlKCcvJylcbiAgfVxuXG4gIC8vIGNoZWNrcyBpZiB0aGUgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gIGlzQXV0aGVudGljYXRlZCAoKSB7XG4gICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgY3VycmVudCB0aW1lIGlzIHBhc3QgdGhlXG4gICAgLy8gYWNjZXNzIHRva2VuJ3MgZXhwaXJ5IHRpbWVcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgPCB0aGlzLmV4cGlyZXNBdFxuICB9XG5cbiAgLy8gYSBzdGF0aWMgbWV0aG9kIHRvIGdldCB0aGUgYWNjZXNzIHRva2VuXG4gIGdldEF1dGhUb2tlbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWNjZXNzVG9rZW5cbiAgfVxuXG4gIC8vIGEgbWV0aG9kIHRvIGdldCB0aGUgVXNlciBwcm9maWxlXG4gIGdldFVzZXJQcm9maWxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9maWxlXG4gIH1cblxuICBzaWxlbnRBdXRoICgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5hdXRoMC5jaGVja1Nlc3Npb24oe30sIChlcnIsIGF1dGhSZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICAgIHRoaXMuc2V0U2Vzc2lvbihhdXRoUmVzdWx0KVxuICAgICAgICByZXNvbHZlKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/auth/AuthService.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ !function() {
/******/ 	__webpack_require__.h = function() { return "00890b5c18f1f973"; }
/******/ }();
/******/ 
/******/ }
);